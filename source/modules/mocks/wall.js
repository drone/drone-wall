"use strict";

module.exports = [ "$httpBackend", "DroneAPI",

    function ( $httpBackend, DroneAPI )
    {
        var baseResponse = [
            {
                "owner": "owner",
                "name": "doppler-agg-worker",
                "full_name": "owner/doppler-agg-worker",
                "number": 11,
                "event": "pull_request",
                "status": "running",
                "created_at": 1455300800,
                "started_at": 1455300800,
                "finished_at": 0,
                "commit": "ffba9a94163a1fe152a4402ef0135dd490d135d5",
                "branch": "master",
                "ref": "refs/pull/13/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-agg-worker.git",
                "title": "Add newrelic task registration",
                "message": "Add newrelic task registration",
                "author": "whiterabbit88",
                "author_avatar": "https://avatars.githubusercontent.com/u/2256190?v=3",
                "author_email": "whiterabbit88@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-milestone-worker",
                "full_name": "owner/doppler-milestone-worker",
                "number": 18,
                "event": "pull_request",
                "status": "running",
                "created_at": 1455300543,
                "started_at": 1455300543,
                "finished_at": 0,
                "commit": "eac9dc0da98f939e0a3ed38d23f2c80213cd5b6a",
                "branch": "master",
                "ref": "refs/pull/16/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-milestone-worker.git",
                "title": "register functions to monitor in newrelic",
                "message": "register functions to monitor in newrelic",
                "author": "whiterabbit88",
                "author_avatar": "https://avatars.githubusercontent.com/u/2256190?v=3",
                "author_email": "whiterabbit88@email.com"
            },
            {
                "owner": "owner",
                "name": "baxter-api",
                "full_name": "owner/baxter-api",
                "number": 129,
                "event": "push",
                "status": "success",
                "created_at": 1455298821,
                "started_at": 1455298821,
                "finished_at": 1455299180,
                "commit": "07dbee0ecf79c7ea3145624d3c0a676f891f0d70",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-api.git",
                "title": "",
                "message": "Merge pull request #212 from Truss455/master\n\nMake sure to count the approved" +
                    " followers/leaders on the user detail stats.",
                "author": "whiterabbit88",
                "author_avatar": "https://avatars.githubusercontent.com/u/2256190?v=3",
                "author_email": "whiterabbit88@email.com"
            },
            {
                "owner": "owner",
                "name": "baxter-api",
                "full_name": "owner/baxter-api",
                "number": 128,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455298480,
                "started_at": 1455298480,
                "finished_at": 1455298641,
                "commit": "475539cc92742f6f3e6a36470db2a5398e09f61f",
                "branch": "master",
                "ref": "refs/pull/212/merge",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-api.git",
                "title": "Make sure to count the approved followers/leaders on the user detail stats.",
                "message": "Make sure to count the approved followers/leaders on the user detail stats.",
                "author": "Truss455",
                "author_avatar": "https://avatars.githubusercontent.com/u/74319?v=3",
                "author_email": "Truss455rgby@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-analytics",
                "full_name": "owner/doppler-analytics",
                "number": 37,
                "event": "push",
                "status": "success",
                "created_at": 1455298421,
                "started_at": 1455298421,
                "finished_at": 1455299636,
                "commit": "d7ae8c8a9e692a6e0e1f3c181e03144d72d1db45",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-analytics.git",
                "title": "",
                "message": "Merge pull request #19 from tyler-durden-455/master\n\nvision upload fixes and " +
                    "projection tweaks",
                "author": "tyler-durden-455",
                "author_avatar": "https://avatars.githubusercontent.com/u/74309?v=3",
                "author_email": "tylerdurden455@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-analytics",
                "full_name": "owner/doppler-analytics",
                "number": 36,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455298409,
                "started_at": 1455298409,
                "finished_at": 1455298417,
                "commit": "6f234a5808e8d18c8bbd3ec305a318d3c5d5adb0",
                "branch": "master",
                "ref": "refs/pull/19/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-analytics.git",
                "title": "vision upload fixes and projection tweaks",
                "message": "vision upload fixes and projection tweaks",
                "author": "tyler-durden-455",
                "author_avatar": "https://avatars.githubusercontent.com/u/74309?v=3",
                "author_email": "tylerdurden455@email.com"
            },
            {
                "owner": "owner",
                "name": "baxter-android",
                "full_name": "owner/baxter-android",
                "number": 79,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455295670,
                "started_at": 1455295670,
                "finished_at": 1455295968,
                "commit": "a261e70441b72ec61ab0b6801d00a2013dc11c27",
                "branch": "master",
                "ref": "refs/pull/139/merge",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-android.git",
                "title": "Filter bug fixes",
                "message": "Filter bug fixes",
                "author": "RedThirst13",
                "author_avatar": "",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "doppler-api",
                "full_name": "owner/doppler-api",
                "number": 58,
                "event": "push",
                "status": "success",
                "created_at": 1455294535,
                "started_at": 1455294535,
                "finished_at": 1455295060,
                "commit": "237252963d0d424cfca95a475bca5e54052111a3",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-api.git",
                "title": "",
                "message": "Merge pull request #175 from cambrea123/master\n\nupdate goal award bulk route " +
                    "to include random message",
                "author": "whiterabbit88",
                "author_avatar": "https://avatars.githubusercontent.com/u/2256190?v=3",
                "author_email": "whiterabbit88@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-milestone-worker",
                "full_name": "owner/doppler-milestone-worker",
                "number": 17,
                "event": "push",
                "status": "success",
                "created_at": 1455293469,
                "started_at": 1455293469,
                "finished_at": 1455293647,
                "commit": "6748582b4e865b90993c356fe3739912b7489521",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-milestone-worker.git",
                "title": "",
                "message": "Merge pull request #15 from whiterabbit88/master\n\nAdjust the keys for user " +
                    "timezone",
                "author": "projectevening",
                "author_avatar": "",
                "author_email": "brian@projectevening.net"
            },
            {
                "owner": "owner",
                "name": "doppler-insights-api",
                "full_name": "owner/doppler-insights-api",
                "number": 63,
                "event": "push",
                "status": "success",
                "created_at": 1455293454,
                "started_at": 1455293454,
                "finished_at": 1455293840,
                "commit": "7d39bf72443b232530bc7e7867e428233d339cea",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-insights-api.git",
                "title": "",
                "message": "Merge pull request #67 from cambrea123/master\n\nupdated create/update " +
                    "inspiration boost route to return activity/metric objects",
                "author": "projectevening",
                "author_avatar": "",
                "author_email": "brian@projectevening.net"
            },
            {
                "owner": "owner",
                "name": "doppler-insights-api",
                "full_name": "owner/doppler-insights-api",
                "number": 62,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455293119,
                "started_at": 1455293119,
                "finished_at": 1455293249,
                "commit": "acb7eec936ebe691acbecf4aa12676c2629cf3ca",
                "branch": "master",
                "ref": "refs/pull/67/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-insights-api.git",
                "title": "updated create/update inspiration boost route to return activity/metric objects",
                "message": "updated create/update inspiration boost route to return activity/metric objects",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "doppler-api",
                "full_name": "owner/doppler-api",
                "number": 57,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455290319,
                "started_at": 1455290319,
                "finished_at": 1455290534,
                "commit": "677d5821ade05c7c7433efecbe138c4042831b26",
                "branch": "master",
                "ref": "refs/pull/175/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-api.git",
                "title": "update goal award bulk route to include random message",
                "message": "update goal award bulk route to include random message",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "doppler-api",
                "full_name": "owner/doppler-api",
                "number": 56,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455290256,
                "started_at": 1455290256,
                "finished_at": 1455290477,
                "commit": "42d877b9d7a7aa12c9d2b1a5d913aa19c454f0aa",
                "branch": "master",
                "ref": "refs/pull/175/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-api.git",
                "title": "update goal award bulk route to include random message",
                "message": "update goal award bulk route to include random message",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "datadoggs",
                "full_name": "owner/datadoggs",
                "number": 32,
                "event": "push",
                "status": "success",
                "created_at": 1455290060,
                "started_at": 1455290060,
                "finished_at": 1455290100,
                "commit": "87c3f769858c1df3519575c245927a0b1ab36587",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/datadoggs.git",
                "title": "",
                "message": "Merge pull request #62 from rerbeal/master\n\nUsing RXSwift to populate " +
                    "UITableView data",
                "author": "brockboland",
                "author_avatar": "",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "baxter-analytics",
                "full_name": "owner/baxter-analytics",
                "number": 6,
                "event": "push",
                "status": "failure",
                "created_at": 1455287914,
                "started_at": 1455287914,
                "finished_at": 1455287929,
                "commit": "0ecbb5e7110cb9de08aa88a7ae8d0b79429dd640",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-analytics.git",
                "title": "",
                "message": "Merge pull request #3 from tyler-durden-455/master\n\ndb script updates",
                "author": "tyler-durden-455",
                "author_avatar": "https://avatars.githubusercontent.com/u/74309?v=3",
                "author_email": "tylerdurden455@email.com"
            },
            {
                "owner": "owner",
                "name": "baxter-analytics",
                "full_name": "owner/baxter-analytics",
                "number": 5,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455287892,
                "started_at": 1455287892,
                "finished_at": 1455287901,
                "commit": "2bbf9453a67c32c45aa63008d3c02dba4b5371ca",
                "branch": "master",
                "ref": "refs/pull/3/merge",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-analytics.git",
                "title": "db script updates",
                "message": "db script updates",
                "author": "tyler-durden-455",
                "author_avatar": "https://avatars.githubusercontent.com/u/74309?v=3",
                "author_email": "tylerdurden455@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-api",
                "full_name": "owner/doppler-api",
                "number": 55,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455237198,
                "started_at": 1455237198,
                "finished_at": 1455237392,
                "commit": "c857b614bbfcbf53b2b639274b75544fa1d4170a",
                "branch": "master",
                "ref": "refs/pull/175/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-api.git",
                "title": "update goal award bulk route to include random message",
                "message": "update goal award bulk route to include random message",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "doppler-milestone-worker",
                "full_name": "owner/doppler-milestone-worker",
                "number": 16,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455236612,
                "started_at": 1455236612,
                "finished_at": 1455236640,
                "commit": "545a07ac60dadc8ea8120c5b219a74afe0b2c088",
                "branch": "master",
                "ref": "refs/pull/15/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-milestone-worker.git",
                "title": "Adjust the keys for user timezone",
                "message": "Adjust the keys for user timezone",
                "author": "whiterabbit88",
                "author_avatar": "https://avatars.githubusercontent.com/u/2256190?v=3",
                "author_email": "whiterabbit88@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-insights-api",
                "full_name": "owner/doppler-insights-api",
                "number": 61,
                "event": "push",
                "status": "success",
                "created_at": 1455229245,
                "started_at": 1455229245,
                "finished_at": 1455229602,
                "commit": "1c06a520ad060109a85da4115ccb939366aa2c89",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-insights-api.git",
                "title": "",
                "message": "Merge pull request #65 from cambrea123/master\n\nupdated get random goal message " +
                    "route to have recent param",
                "author": "projectevening",
                "author_avatar": "",
                "author_email": "brian@projectevening.net"
            },
            {
                "owner": "owner",
                "name": "doppler-api",
                "full_name": "owner/doppler-api",
                "number": 54,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455228826,
                "started_at": 1455228826,
                "finished_at": 1455229019,
                "commit": "baa1c4557189e8714be3f8c5a61910ab6be885a0",
                "branch": "master",
                "ref": "refs/pull/175/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-api.git",
                "title": "update goal award bulk route to include random message",
                "message": "update goal award bulk route to include random message",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "doppler-insights-api",
                "full_name": "owner/doppler-insights-api",
                "number": 60,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455228575,
                "started_at": 1455228575,
                "finished_at": 1455228690,
                "commit": "6361452de169ab84c17b7b0def8feb2778888140",
                "branch": "master",
                "ref": "refs/pull/65/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-insights-api.git",
                "title": "updated get random goal message route to have recent param",
                "message": "updated get random goal message route to have recent param",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "doppler-insights-api",
                "full_name": "owner/doppler-insights-api",
                "number": 59,
                "event": "pull_request",
                "status": "failure",
                "created_at": 1455228268,
                "started_at": 1455228268,
                "finished_at": 1455228382,
                "commit": "dd5e386cc35a65ce47fc8daeea8b9a35a035d0ad",
                "branch": "master",
                "ref": "refs/pull/65/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-insights-api.git",
                "title": "updated get random goal message route to have recent param",
                "message": "updated get random goal message route to have recent param",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            },
            {
                "owner": "owner",
                "name": "baxter-api",
                "full_name": "owner/baxter-api",
                "number": 127,
                "event": "push",
                "status": "success",
                "created_at": 1455227184,
                "started_at": 1455227184,
                "finished_at": 1455227495,
                "commit": "c5fcb3665ca656e7932d9c50ec433a55723c1e62",
                "branch": "master",
                "ref": "refs/heads/master",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-api.git",
                "title": "",
                "message": "Merge pull request #211 from Truss455/master\n\nMake sure legal users get " +
                    "regular and adult content.",
                "author": "projectevening",
                "author_avatar": "",
                "author_email": "brian@projectevening.net"
            },
            {
                "owner": "owner",
                "name": "baxter-api",
                "full_name": "owner/baxter-api",
                "number": 126,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455226809,
                "started_at": 1455226944,
                "finished_at": 1455227077,
                "commit": "5701b8e46b95d1f72da7d829966dbe68d84a5106",
                "branch": "master",
                "ref": "refs/pull/211/merge",
                "refspec": "",
                "remote": "https://github.com/owner/baxter-api.git",
                "title": "Make sure legal users get regular and adult content.",
                "message": "Make sure legal users get regular and adult content.",
                "author": "Truss455",
                "author_avatar": "https://avatars.githubusercontent.com/u/74319?v=3",
                "author_email": "Truss455rgby@email.com"
            },
            {
                "owner": "owner",
                "name": "doppler-insights-api",
                "full_name": "owner/doppler-insights-api",
                "number": 58,
                "event": "pull_request",
                "status": "success",
                "created_at": 1455226761,
                "started_at": 1455226810,
                "finished_at": 1455226939,
                "commit": "0f57ca8613fa3afdce626ddfd0bbb10a9e144451",
                "branch": "master",
                "ref": "refs/pull/65/merge",
                "refspec": "",
                "remote": "https://github.com/owner/doppler-insights-api.git",
                "title": "updated get random goal message route to have recent param",
                "message": "updated get random goal message route to have recent param",
                "author": "cambrea123",
                "author_avatar": "https://avatars.githubusercontent.com/u/817538?v=3",
                "author_email": ""
            }
        ];
        var currentResponse = null;

        $httpBackend.whenRoute( "GET", DroneAPI.rootPath + "user/feed" )

            .respond( function ()
            {
                if( currentResponse )
                {
                    if( currentResponse[ 0 ].status === "running" )
                    {
                        currentResponse[ 0 ].status = "success";
                        currentResponse[ 0 ].finished_at = 1455300900;
                    }
                    else if( currentResponse[ 1 ].status === "running" )
                    {
                        currentResponse[ 1 ].status = "failure";
                        currentResponse[ 1 ].finished_at = 1455300902;
                    }
                }
                else
                {
                    currentResponse = baseResponse;
                }

                return [ 200, currentResponse ];

            } );

    }

];
